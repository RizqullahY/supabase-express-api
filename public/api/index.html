<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API DOCS V2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </head>
  <body
    class="bg-gradient-to-r from-blue-900 to-blue-500 h-screen w-full flex justify-center items-center"
  >
    <div
      class="bg-opacity-75 rounded-xl p-6 flex flex-col space-y-6 w-full max-w-3xl mx-4 sm:mx-8 lg:mx-16 mt-5"
    ><br><br><br>
      <h1 class="text-white text-4xl font-bold text-center">
        Quotes API Documentation
      </h1>
      <p class="text-white text-lg text-center">
        Explore the Quotes API and interact with the available endpoints.
      </p>

      <div class="space-y-4">
        <p class="text-white text-lg mb-3">Random Quote</p>
        <pre
          class="bg-gray-800 text-white p-4 rounded-md overflow-auto max-h-80 text-sm mb-3"
        >
      <code>
      async function getRandomQuote() {
          const url = 
          "https://raflyasligalek.vercel.app/api/quote-fn-the-day";
          try {
              const response = await fetch(url);
              const data = await response.json();
              console.log(data.data);
          } catch (error) {
              console.error("Error fetching quote:", error);
          }
      }
      </code></pre>
        <button
          onclick="getRandomQuote()"
          class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-300 w-full sm:w-auto mb-3"
        >
          Quote Of The Day
        </button>
      </div>

      <div class="space-y-4">
        <p class="text-white text-lg mb-3">Send Your Quote</p>
        <button
          onclick="sendYourQuote()"
          class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition duration-300 w-full sm:w-auto mb-3"
        >
          Send Your Quote
        </button><br><br><br>
      </div>
    </div>

    <!-- Get Random Quote-->
    <script>
      async function getRandomQuote() {
        const url = "https://raflyasligalek.vercel.app/api/quote-on-the-day";
        try {
          const response = await fetch(url);
          const data = await response.json();
          console.log(data.data);
          Swal.fire({
            title: "Random Quote",
            text: `${data.data.quote} â€” ${data.data.author}`,
            confirmButtonText: "Got it!",
          });
        } catch (error) {
          console.error("Error fetching quote:", error);
          Swal.fire({
            title: "Error",
            text: "Something went wrong while fetching the quote.",
            icon: "error",
            confirmButtonText: "Try again",
          });
        }
      }
    </script>

    <!-- Send Your Quote-->
    <script>
      async function sendYourQuote() {
        const { value: formValues } = await Swal.fire({
          title: "Send Your Quote",
          html:
            '<div class="">' +
            '<input id="swal-input-token" class="swal2-input" placeholder="Enter your token" style="width: 80%;">' +
            '<textarea id="swal-input-quote" class="swal2-textarea" placeholder="Enter your quote" style="width: 80%;"></textarea>' +
            "</div>",
          focusConfirm: false,
          preConfirm: () => {
            return {
              token: document.getElementById("swal-input-token").value,
              quote: document.getElementById("swal-input-quote").value,
            };
          },
        });

        if (formValues) {
          const { token, quote } = formValues;
          if (!token || !quote) {
            Swal.fire("Error", "Both fields are required!", "error");
            return;
          }
          console.log(formValues)

        //   try {
        //     const response = await fetch(
        //       "https://your-api-endpoint.com/api/submit-quote",
        //       {
        //         method: "POST",
        //         headers: {
        //           "Content-Type": "application/json",
        //         },
        //         body: JSON.stringify({ token, quote }),
        //       }
        //     );
        //     const data = await response.json();
        //     if (response.ok) {
        //       Swal.fire(
        //         "Success",
        //         "Quote has been sent successfully!",
        //         "success"
        //       );
        //     } else {
        //       Swal.fire(
        //         "Error",
        //         data.message || "Something went wrong!",
        //         "error"
        //       );
        //     }
        //   } catch (error) {
        //     Swal.fire(
        //       "Error",
        //       "Failed to send the quote. Please try again later.",
        //       "error"
        //     );
        //   }
        }
      }
    </script>
  </body>
</html>
